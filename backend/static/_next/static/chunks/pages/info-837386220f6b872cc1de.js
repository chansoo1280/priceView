(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[776],{6814:function(e,t,r){"use strict";function n(e){if(null==e)throw new TypeError("Cannot destructure undefined")}r.d(t,{Z:function(){return n}})},4020:function(e){"use strict";var t="%[a-f0-9]{2}",r=new RegExp(t,"gi"),n=new RegExp("("+t+")+","gi");function o(e,t){try{return decodeURIComponent(e.join(""))}catch(i){}if(1===e.length)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],o(r),o(n))}function i(e){try{return decodeURIComponent(e)}catch(i){for(var t=e.match(r),n=1;n<t.length;n++)t=(e=o(t,n).join("")).match(r);return e}}e.exports=function(e){if("string"!==typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var r={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},o=n.exec(e);o;){try{r[o[0]]=decodeURIComponent(o[0])}catch(t){var a=i(o[0]);a!==o[0]&&(r[o[0]]=a)}o=n.exec(e)}r["%C2"]="\ufffd";for(var c=Object.keys(r),s=0;s<c.length;s++){var u=c[s];e=e.replace(new RegExp(u,"g"),r[u])}return e}(e)}}},2806:function(e){"use strict";e.exports=function(e,t){for(var r={},n=Object.keys(e),o=Array.isArray(t),i=0;i<n.length;i++){var a=n[i],c=e[a];(o?-1!==t.indexOf(a):t(a,c,e))&&(r[a]=c)}return r}},1374:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return E}});var n=r(5893),o=r(4699),i=r(7757),a=r.n(i),c=r(2137),s=r(6156),u=r(6814),l=r(7294),f=r(1163),p=r(7563),d=r(1948),y=r(645),g=(r(3144),r(4155));function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h={Request:function(){var e=(0,c.Z)(a().mark((function e(t,r,n,o){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,i){var s=n?"?".concat((0,p.stringify)(v(v({},n),{},{api_key:g.env.NEXT_PUBLIC_API_KEY}))):"";fetch("".concat("https://price.chansoo1280.site").concat(r).concat(s),{body:JSON.stringify(o),cache:"no-cache",headers:{"content-type":"application/json",SECRET:"asdY235h^&@!%Y&~!~"},method:"".concat(t)}).then(function(){var t=(0,c.Z)(a().mark((function t(r){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(200!==r.status){t.next=2;break}return t.abrupt("return",r.json().then((function(t){console.log(t),e(t)})));case 2:return t.abrupt("return",i(r));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){i(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t,r,n,o){return e.apply(this,arguments)}}()},b=r(9372),j=r(8216);function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var w="RN_API_GET_POSITION",k=function(e){return null===e?"0":e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},_=function(e){(0,u.Z)(e);var t=(0,f.useRouter)(),r=(0,j.I0)(),i=(0,j.v9)((function(e){return e.starReducer})),s=d.mq.find((function(e,r){return e.seq===Number(t.query.seq)}))||null,g=(0,l.useState)(null===s||void 0===s?void 0:s.name),m=g[0],v=(g[1],void 0!==i.list.find((function(e){return e===(null===s||void 0===s?void 0:s.seq)}))),O=new Date,_=15<O.getDate()?1:0,E=function(){var e=new Date(O.getFullYear(),O.getMonth(),1);return e.setMonth(e.getMonth()-(1-_)),e}().format("yyyy-MM"),S=(0,l.useState)([]),N=S[0],A=S[1],F=(0,l.useState)((null===s||void 0===s?void 0:s.seq_list.map((function(e){return{A_SEQ:e,chart:null,A_NAME:d.uJ[e].A_NAME,A_UNIT:d.uJ[e].A_UNIT[0],isOpen:!1,dataList:null,dateList:null}})))||[]),I=F[0],C=F[1],P=(0,l.useState)(d.OO[""]),M=P[0],L=P[1],R=(0,l.useState)(d.UU[""]),U=R[0],T=R[1],q=function(){var e=(0,c.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.Request("get","/api/count/info",{A_SEQS:(null===s||void 0===s?void 0:s.seq_list.join(", "))||"",P_YEAR_MONTH:E,M_GU_CODE:M}).catch((function(e){return e.status,null}));case 2:t=e.sent,A(t||[]);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(e){var t=JSON.parse(e.data),r=t.data;switch(t.type){case w:!function(e){var t=e.x,r=e.y;fetch("https://dapi.kakao.com/v2/local/geo/coord2address.json?".concat((0,p.stringify)({x:t,y:r})),{method:"get",headers:{"content-type":"application/json",Authorization:"KakaoAK 4fdda60789cef4f549581038ad7564e5"}}).then((function(e){if(200===e.status)return e.json().then((function(e){var t;if(e.documents&&0===e.documents.length)alert("\uc704\uce58\uc815\ubcf4\ub97c \ucc3e\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4.");else{var r=null===(t=e.documents[0])||void 0===t?void 0:t.address,n=r.region_1depth_name,o=r.region_2depth_name;if("\uc11c\uc6b8"===n){var i=Object.keys(d.OO).find((function(e){return d.OO[e]===o}))||"";L(i)}else alert("\uc11c\uc6b8\uc774 \uc544\ub2d9\ub2c8\ub2e4")}}));alert("\uc704\uce58\uc815\ubcf4\ub97c \ucc3e\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4.")}))}({y:r.coords.latitude,x:r.coords.longitude})}};return(0,l.useEffect)((function(){return window.ReactNativeWebView&&(document.addEventListener("message",D),window.addEventListener("message",D)),function(){document.removeEventListener("message",D),window.removeEventListener("message",D)}}),[]),(0,l.useEffect)((function(){q()}),[M]),(0,l.useEffect)((function(){C(I.map((function(e){for(var t=N.filter((function(t){var r=t.A_SEQ,n=t.M_TYPE_CODE;return Number(r)===e.A_SEQ&&n===U})),r=new Date(E+"-01"),n=function(){var e=new Date(O.getFullYear(),O.getMonth(),1);return e.setMonth(e.getMonth()-(4-_)),e}(),o=["Dates"],i=[(null===s||void 0===s?void 0:s.name)||""],a=0;n<r;a++){var c=t.find((function(e){return e.P_YEAR_MONTH===n.format("yyyy-MM")}));o.push(n.format("yyyy-MM-01"));var u=c&&String(null===c||void 0===c?void 0:c.AVER_VAL);i.push("0"!==u&&u||null),n.setMonth(n.getMonth()+1)}return x(x({},e),{},{dateList:o,dataList:i})})))}),[U,N]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(y.h4,{title:m,children:[(0,n.jsx)(y.zx,{onClick:function(){return t.back()},icon:(0,n.jsx)("img",{src:"/static/images/icon_back.svg",alt:"\ub4a4\ub85c\uac00\uae30"})}),(0,n.jsxs)(y.u,{posX:"left",contents:v?"\ucd94\uac00\ub418\uc5c8\uc2b5\ub2c8\ub2e4.":"\uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",children:[(0,n.jsx)(y.zx,{show:!v,onClick:function(){null!==s&&r(b.Gc.addStar(null===s||void 0===s?void 0:s.seq))},icon:(0,n.jsx)("img",{src:"/static/images/icon_favorite.svg",alt:"\uc990\uaca8\ucc3e\uae30 \ucd94\uac00"})}),(0,n.jsx)(y.zx,{show:v,onClick:function(){null!==s&&r(b.Gc.removeStar(null===s||void 0===s?void 0:s.seq))},icon:(0,n.jsx)("img",{src:"/static/images/icon_favorite_active.svg",alt:"\uc990\uaca8\ucc3e\uae30 \uc0ad\uc81c"})})]})]}),(0,n.jsx)(y.OK,{children:Object.entries(d.UU).reverse().map((function(e,t){var r=(0,o.Z)(e,2),i=r[0],a=r[1];return(0,n.jsx)(y.OK.Item,{onClick:function(){T(i)},name:a||"\ud3c9\uade0",isSelected:i===U},i)}))}),(0,n.jsxs)(y.T,{padding:"0 20px",children:[(0,n.jsx)(y.Ph,{value:M,onChange:function(e){L(e.target.value||"")},children:Object.entries(d.OO).reverse().map((function(e){var t=(0,o.Z)(e,2),r=t[0],i=t[1];return(0,n.jsx)("option",{value:r,children:i||"\uc11c\uc6b8 \uc804\uccb4"},r)}))}),(0,n.jsx)(y.zx,{onClick:function(){window.ReactNativeWebView?window.ReactNativeWebView.postMessage(JSON.stringify({type:w})):alert("\ubaa8\ubc14\uc77c\uc774 \uc544\ub2d9\ub2c8\ub2e4.")},type:"default",icon:(0,n.jsx)("img",{src:"/static/images/icon_location.svg",alt:"\ub0b4\uc704\uce58"})}),(0,n.jsxs)("span",{style:{marginLeft:"auto"},children:[E," \uae30\uc900"]})]}),(0,n.jsx)(y.T,{padding:"24px 20px",gap:"24px",direction:"column",children:I.map((function(e){var t=e.A_SEQ,r=e.A_NAME,o=e.A_UNIT,i=e.dataList,a=e.dateList,c=e.isOpen;if(null===i||4<=i.filter((function(e){return null===e})).length)return(0,n.jsx)(y.jV,{title:r,unit:o,price:"0",priceChange:"",children:(0,n.jsx)(y.kL,{MONTH_BIAS:_,seq:t,dataList:i,dateList:a})},t);var s=(Number(i&&i[i.length-1])||0)-(Number(i&&i[i.length-2])||0);return(0,n.jsx)(y.jV,{onClick:function(){C(I.map((function(r){return t===r.A_SEQ?x(x({},e),{},{isOpen:!c}):r})))},isOpen:c,title:r,unit:o,price:k(i&&i[i.length-1]||"0"),priceChange:k(String(s)),children:(0,n.jsx)(y.kL,{MONTH_BIAS:_,seq:t,dataList:i,dateList:a})},t)}))})]})};_.getInitialProps=function(){var e=(0,c.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{transition:"slide"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var E=_},3144:function(e){"use strict";var t=self.fetch.bind(self);e.exports=t,e.exports.default=e.exports},7777:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/info",function(){return r(1374)}])},7563:function(e,t,r){"use strict";const n=r(610),o=r(4020),i=r(500),a=r(2806),c=Symbol("encodeFragmentIdentifier");function s(e){if("string"!==typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function u(e,t){return t.encode?t.strict?n(e):encodeURIComponent(e):e}function l(e,t){return t.decode?o(e):e}function f(e){return Array.isArray(e)?e.sort():"object"===typeof e?f(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function p(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function d(e){const t=(e=p(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function y(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"===typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function g(e,t){s((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const r=function(e){let t;switch(e.arrayFormat){case"index":return(e,r,n)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===n[e]&&(n[e]={}),n[e][t[1]]=r):n[e]=r};case"bracket":return(e,r,n)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],r):n[e]=[r]:n[e]=r};case"comma":case"separator":return(t,r,n)=>{const o="string"===typeof r&&r.includes(e.arrayFormatSeparator),i="string"===typeof r&&!o&&l(r,e).includes(e.arrayFormatSeparator);r=i?l(r,e):r;const a=o||i?r.split(e.arrayFormatSeparator).map((t=>l(t,e))):null===r?r:l(r,e);n[t]=a};case"bracket-separator":return(t,r,n)=>{const o=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),!o)return void(n[t]=r?l(r,e):r);const i=null===r?[]:r.split(e.arrayFormatSeparator).map((t=>l(t,e)));void 0!==n[t]?n[t]=[].concat(n[t],i):n[t]=i};default:return(e,t,r)=>{void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}(t),n=Object.create(null);if("string"!==typeof e)return n;if(!(e=e.trim().replace(/^[?#&]/,"")))return n;for(const o of e.split("&")){if(""===o)continue;let[e,a]=i(t.decode?o.replace(/\+/g," "):o,"=");a=void 0===a?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?a:l(a,t),r(l(e,t),a,n)}for(const o of Object.keys(n)){const e=n[o];if("object"===typeof e&&null!==e)for(const r of Object.keys(e))e[r]=y(e[r],t);else n[o]=y(e,t)}return!1===t.sort?n:(!0===t.sort?Object.keys(n).sort():Object.keys(n).sort(t.sort)).reduce(((e,t)=>{const r=n[t];return Boolean(r)&&"object"===typeof r&&!Array.isArray(r)?e[t]=f(r):e[t]=r,e}),Object.create(null))}t.extract=d,t.parse=g,t.stringify=(e,t)=>{if(!e)return"";s((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const r=r=>{return t.skipNull&&(null===(n=e[r])||void 0===n)||t.skipEmptyString&&""===e[r];var n},n=function(e){switch(e.arrayFormat){case"index":return t=>(r,n)=>{const o=r.length;return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[u(t,e),"[",o,"]"].join("")]:[...r,[u(t,e),"[",u(o,e),"]=",u(n,e)].join("")]};case"bracket":return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[u(t,e),"[]"].join("")]:[...r,[u(t,e),"[]=",u(n,e)].join("")];case"comma":case"separator":case"bracket-separator":{const t="bracket-separator"===e.arrayFormat?"[]=":"=";return r=>(n,o)=>void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?n:(o=null===o?"":o,0===n.length?[[u(r,e),t,u(o,e)].join("")]:[[n,u(o,e)].join(e.arrayFormatSeparator)])}default:return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,u(t,e)]:[...r,[u(t,e),"=",u(n,e)].join("")]}}(t),o={};for(const a of Object.keys(e))r(a)||(o[a]=e[a]);const i=Object.keys(o);return!1!==t.sort&&i.sort(t.sort),i.map((r=>{const o=e[r];return void 0===o?"":null===o?u(r,t):Array.isArray(o)?0===o.length&&"bracket-separator"===t.arrayFormat?u(r,t)+"[]":o.reduce(n(r),[]).join("&"):u(r,t)+"="+u(o,t)})).filter((e=>e.length>0)).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[r,n]=i(e,"#");return Object.assign({url:r.split("?")[0]||"",query:g(d(e),t)},t&&t.parseFragmentIdentifier&&n?{fragmentIdentifier:l(n,t)}:{})},t.stringifyUrl=(e,r)=>{r=Object.assign({encode:!0,strict:!0,[c]:!0},r);const n=p(e.url).split("?")[0]||"",o=t.extract(e.url),i=t.parse(o,{sort:!1}),a=Object.assign(i,e.query);let s=t.stringify(a,r);s&&(s=`?${s}`);let l=function(e){let t="";const r=e.indexOf("#");return-1!==r&&(t=e.slice(r)),t}(e.url);return e.fragmentIdentifier&&(l=`#${r[c]?u(e.fragmentIdentifier,r):e.fragmentIdentifier}`),`${n}${s}${l}`},t.pick=(e,r,n)=>{n=Object.assign({parseFragmentIdentifier:!0,[c]:!1},n);const{url:o,query:i,fragmentIdentifier:s}=t.parseUrl(e,n);return t.stringifyUrl({url:o,query:a(i,r),fragmentIdentifier:s},n)},t.exclude=(e,r,n)=>{const o=Array.isArray(r)?e=>!r.includes(e):(e,t)=>!r(e,t);return t.pick(e,o,n)}},500:function(e){"use strict";e.exports=(e,t)=>{if("string"!==typeof e||"string"!==typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const r=e.indexOf(t);return-1===r?[e]:[e.slice(0,r),e.slice(r+t.length)]}},610:function(e){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))}},function(e){e.O(0,[900,787,645,774,888,179],(function(){return t=7777,e(e.s=t);var t}));var t=e.O();_N_E=t}]);